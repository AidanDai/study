# 股神

题目描述：

有股神吗？

有，小赛就是！

经过严密的计算，小赛买了一支股票，他知道从他买股票的那天开始，股票会有以下变化：第一天不变，以后涨一天，跌一天，涨两天，跌一天，涨三天，跌一天...依此类推。

为方便计算，假设每次涨和跌皆为1，股票初始单价也为1，请计算买股票的第n天每股股票值多少钱？

示例：

输入：输入包括多组数据；每行输入一个 n ，1 <= n <= 10^9。

```
样例输入：
1
2
3
4
5
```

输出：请输出他每股股票多少钱，对于每组数据，输出一行。

```
样例输出：
1
2
1
2
3
```

分析：

```
0 1 2 3 4 5 6 7 8 9 10 11 12 13 14...(股票价格序列索引)
1 2 1 2 3 2 3 4 5 4 5  6  7  8  7 ...(股票价格序列)
    3     6         10          15...(下跌日子序列)
1 2 []
1 2 3 [3]
2 3 4 5 [3, 6]
4 5 6 7 8 [3, 6, 10]
...
```

第 n 天的股票价格 price = n - 下跌日子序列长度 * 2
下跌日子序列长度：下跌次数（为什么要乘以2呢？因为下跌一次对原增长序列的影响相当于跌了两次）

代码实现：

```javascript
/**
 * 股神问题
 * @param  {number} n 第几天
 * @return {number}   当天股票价格
 * @author Aidan aidandai@126.com
 */
function socket(n){
	var arrayTemp = [], // 股票价格下跌日子序列
		step = 3, // 第一次增长步长
		// 离今天最近的下跌日子
		last = arrayTemp[arrayTemp.length - 1], 
		i = 0;// 股票价格数组索引

	while(i < n){
		if((last ? last : 0) + step === i + 1 && i > 1){
			if(last){
				arrayTemp.push(last + step);
				step += 1;
			}else{
				arrayTemp.push(3);
			}
			last = arrayTemp[arrayTemp.length - 1];
		}
		i += 1;
	}

	return n - 2 * arrayTemp.length;
}
```